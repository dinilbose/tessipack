<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><title>Python: module eleanor.targetdata</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8">
</head><body bgcolor="#f0f0f8">

<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="heading">
<tr bgcolor="#7799ee">
<td valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial">&nbsp;<br><big><big><strong><a href="eleanor.html"><font color="#ffffff">eleanor</font></a>.targetdata</strong></big></big></font></td
><td align=right valign=bottom
><font color="#ffffff" face="helvetica, arial"><a href=".">index</a><br><a href="file:/home/dinilbose/github/eleanor/eleanor/targetdata.py">/home/dinilbose/github/eleanor/eleanor/targetdata.py</a></font></td></tr></table>
    <p></p>
<p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#aa55cc">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Modules</strong></big></font></td></tr>
    
<tr><td bgcolor="#aa55cc"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><table width="100%" summary="list"><tr><td width="25%" valign=top><a href="astropy.coordinates.html">astropy.coordinates</a><br>
<a href="copy.html">copy</a><br>
<a href="eleanor.html">eleanor</a><br>
<a href="astropy.io.fits.html">astropy.io.fits</a><br>
</td><td width="25%" valign=top><a href="lightkurve.lightcurve.html">lightkurve.lightcurve</a><br>
<a href="numpy.html">numpy</a><br>
<a href="os.html">os</a><br>
<a href="pickle.html">pickle</a><br>
</td><td width="25%" valign=top><a href="matplotlib.pyplot.html">matplotlib.pyplot</a><br>
<a href="sys.html">sys</a><br>
<a href="astropy.time.html">astropy.time</a><br>
<a href="astropy.units.html">astropy.units</a><br>
</td><td width="25%" valign=top><a href="warnings.html">warnings</a><br>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ee77aa">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Classes</strong></big></font></td></tr>
    
<tr><td bgcolor="#ee77aa"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><dl>
<dt><font face="helvetica, arial"><a href="builtins.html#object">builtins.object</a>
</font></dt><dd>
<dl>
<dt><font face="helvetica, arial"><a href="eleanor.targetdata.html#TargetData">TargetData</a>
</font></dt></dl>
</dd>
</dl>
 <p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#ffc8d8">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#000000" face="helvetica, arial"><a name="TargetData">class <strong>TargetData</strong></a>(<a href="builtins.html#object">builtins.object</a>)</font></td></tr>
    
<tr bgcolor="#ffc8d8"><td rowspan=2><tt>&nbsp;&nbsp;&nbsp;</tt></td>
<td colspan=2><tt>Object&nbsp;containing&nbsp;the&nbsp;light&nbsp;curve,&nbsp;target&nbsp;pixel&nbsp;file,&nbsp;and&nbsp;related&nbsp;information<br>
for&nbsp;any&nbsp;given&nbsp;source.<br>
&nbsp;<br>
Parameters<br>
----------<br>
source&nbsp;:&nbsp;eleanor.Source<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;source&nbsp;<a href="builtins.html#object">object</a>&nbsp;to&nbsp;use.<br>
height&nbsp;:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Height&nbsp;in&nbsp;pixels&nbsp;of&nbsp;TPF&nbsp;to&nbsp;retrieve.&nbsp;Default&nbsp;value&nbsp;is&nbsp;13&nbsp;pixels.&nbsp;Must&nbsp;be&nbsp;an&nbsp;odd&nbsp;number,<br>
&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;else&nbsp;will&nbsp;return&nbsp;an&nbsp;aperture&nbsp;one&nbsp;pixel&nbsp;taller&nbsp;than&nbsp;requested&nbsp;so&nbsp;target<br>
&nbsp;&nbsp;&nbsp;&nbsp;falls&nbsp;on&nbsp;central&nbsp;pixel.<br>
width&nbsp;:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Width&nbsp;in&nbsp;pixels&nbsp;of&nbsp;TPF&nbsp;to&nbsp;retrieve.&nbsp;Default&nbsp;value&nbsp;is&nbsp;13&nbsp;pixels.&nbsp;Must&nbsp;be&nbsp;an&nbsp;odd&nbsp;number,<br>
&nbsp;&nbsp;&nbsp;&nbsp;or&nbsp;else&nbsp;will&nbsp;return&nbsp;an&nbsp;aperture&nbsp;one&nbsp;pixel&nbsp;wider&nbsp;than&nbsp;requested&nbsp;so&nbsp;target<br>
&nbsp;&nbsp;&nbsp;&nbsp;falls&nbsp;on&nbsp;central&nbsp;pixel.<br>
bkg_size&nbsp;:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Size&nbsp;of&nbsp;box&nbsp;to&nbsp;use&nbsp;for&nbsp;background&nbsp;estimation.&nbsp;If&nbsp;not&nbsp;set,&nbsp;will&nbsp;default&nbsp;to&nbsp;the&nbsp;width&nbsp;of&nbsp;the&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;target&nbsp;pixel&nbsp;file.<br>
crowded_field&nbsp;:&nbsp;bool,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;true,&nbsp;will&nbsp;return&nbsp;a&nbsp;light&nbsp;curve&nbsp;built&nbsp;using&nbsp;a&nbsp;small&nbsp;aperture&nbsp;(not&nbsp;more&nbsp;than&nbsp;8&nbsp;pixels&nbsp;in&nbsp;size).<br>
do_pca&nbsp;:&nbsp;bool,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;true,&nbsp;will&nbsp;return&nbsp;a&nbsp;PCA-corrected&nbsp;light&nbsp;curve.<br>
do_psf&nbsp;:&nbsp;bool,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;true,&nbsp;will&nbsp;return&nbsp;a&nbsp;light&nbsp;curve&nbsp;made&nbsp;with&nbsp;a&nbsp;simple&nbsp;PSF&nbsp;model.<br>
cal_cadences&nbsp;:&nbsp;tuple,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Start&nbsp;and&nbsp;end&nbsp;cadence&nbsp;numbers&nbsp;to&nbsp;use&nbsp;for&nbsp;optimal&nbsp;aperture&nbsp;selection.<br>
try_load:&nbsp;bool,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;true,&nbsp;will&nbsp;search&nbsp;hidden&nbsp;~/.eleanor&nbsp;directory&nbsp;to&nbsp;see&nbsp;if&nbsp;TPF&nbsp;has&nbsp;already<br>
&nbsp;&nbsp;&nbsp;&nbsp;been&nbsp;created.&nbsp;<br>
&nbsp;<br>
Attributes<br>
----------<br>
header&nbsp;:&nbsp;dict<br>
&nbsp;&nbsp;&nbsp;&nbsp;FITS&nbsp;header&nbsp;for&nbsp;saving/loading&nbsp;data.<br>
source_info&nbsp;:&nbsp;eleanor.Source<br>
&nbsp;&nbsp;&nbsp;&nbsp;Pointer&nbsp;to&nbsp;input&nbsp;source.<br>
aperture&nbsp;:<br>
&nbsp;&nbsp;&nbsp;&nbsp;Aperture&nbsp;to&nbsp;use&nbsp;if&nbsp;overriding&nbsp;default.&nbsp;To&nbsp;use&nbsp;default,&nbsp;set&nbsp;to&nbsp;`None`.<br>
tpf&nbsp;:&nbsp;np.ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;Target&nbsp;pixel&nbsp;file&nbsp;of&nbsp;fluxes;&nbsp;array&nbsp;with&nbsp;shape&nbsp;`dimensions`.<br>
time&nbsp;:&nbsp;np.ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;Time&nbsp;series.<br>
post_obj&nbsp;:&nbsp;eleanor.Postcard<br>
&nbsp;&nbsp;&nbsp;&nbsp;Pointer&nbsp;to&nbsp;Postcard&nbsp;objects&nbsp;containing&nbsp;this&nbsp;TPF.<br>
pointing_model&nbsp;:&nbsp;astropy.table.Table<br>
&nbsp;&nbsp;&nbsp;&nbsp;Table&nbsp;of&nbsp;matrices&nbsp;describing&nbsp;the&nbsp;transformation&nbsp;matrix&nbsp;from&nbsp;FFI&nbsp;default<br>
&nbsp;&nbsp;&nbsp;&nbsp;WCS&nbsp;and&nbsp;eleanor's&nbsp;corrected&nbsp;pointing.<br>
tpf_err&nbsp;:&nbsp;np.ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;Errors&nbsp;on&nbsp;fluxes&nbsp;in&nbsp;`tpf`.<br>
centroid_xs&nbsp;:&nbsp;np.ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;Position&nbsp;of&nbsp;the&nbsp;source&nbsp;in&nbsp;`x`&nbsp;inferred&nbsp;from&nbsp;pointing&nbsp;model;&nbsp;has&nbsp;same&nbsp;length&nbsp;as&nbsp;`time`.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Position&nbsp;is&nbsp;relative&nbsp;to&nbsp;the&nbsp;pixel&nbsp;coordinate&nbsp;system&nbsp;of&nbsp;the&nbsp;postcard.<br>
centroid_ys&nbsp;:&nbsp;np.ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;Position&nbsp;of&nbsp;the&nbsp;source&nbsp;in&nbsp;`y`&nbsp;inferred&nbsp;from&nbsp;pointing&nbsp;model;&nbsp;has&nbsp;same&nbsp;length&nbsp;as&nbsp;`time`.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Position&nbsp;is&nbsp;relative&nbsp;to&nbsp;the&nbsp;pixel&nbsp;coordinate&nbsp;system&nbsp;of&nbsp;the&nbsp;postcard.<br>
cen_x&nbsp;:&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;Median&nbsp;`x`&nbsp;position&nbsp;of&nbsp;the&nbsp;source.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Position&nbsp;is&nbsp;relative&nbsp;to&nbsp;the&nbsp;pixel&nbsp;coordinate&nbsp;system&nbsp;of&nbsp;the&nbsp;postcard.<br>
cen_y&nbsp;:&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;Median&nbsp;`y`&nbsp;position&nbsp;of&nbsp;the&nbsp;source.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Position&nbsp;is&nbsp;relative&nbsp;to&nbsp;the&nbsp;pixel&nbsp;coordinate&nbsp;system&nbsp;of&nbsp;the&nbsp;postcard.<br>
tpf_star_x&nbsp;:&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;`x`&nbsp;position&nbsp;of&nbsp;the&nbsp;star&nbsp;on&nbsp;the&nbsp;TPF.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Position&nbsp;is&nbsp;relative&nbsp;to&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;TPF.<br>
tpf_star_y&nbsp;:&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;`y`&nbsp;position&nbsp;of&nbsp;the&nbsp;star&nbsp;on&nbsp;the&nbsp;TPF.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Position&nbsp;is&nbsp;relative&nbsp;to&nbsp;the&nbsp;size&nbsp;of&nbsp;the&nbsp;TPF.<br>
dimensions&nbsp;:&nbsp;tuple<br>
&nbsp;&nbsp;&nbsp;&nbsp;Shape&nbsp;of&nbsp;`tpf`.&nbsp;Should&nbsp;be&nbsp;(`time`,&nbsp;`height`,&nbsp;`width`).<br>
all_apertures&nbsp;:&nbsp;list<br>
&nbsp;&nbsp;&nbsp;&nbsp;List&nbsp;of&nbsp;aperture&nbsp;objects.<br>
aperture&nbsp;:&nbsp;array-like<br>
&nbsp;&nbsp;&nbsp;&nbsp;Chosen&nbsp;aperture&nbsp;for&nbsp;producing&nbsp;`raw_flux`&nbsp;lightcurve.&nbsp;Format&nbsp;is&nbsp;array<br>
&nbsp;&nbsp;&nbsp;&nbsp;with&nbsp;shape&nbsp;(`height`,&nbsp;`width`).&nbsp;All&nbsp;entries&nbsp;are&nbsp;floats&nbsp;in&nbsp;range&nbsp;[0,1].<br>
all_flux_err&nbsp;:&nbsp;np.ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;Estimated&nbsp;uncertainties&nbsp;on&nbsp;`all_raw_flux`.<br>
all_raw_flux&nbsp;:&nbsp;np.ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;All&nbsp;lightcurves&nbsp;extracted&nbsp;using&nbsp;`all_apertures`.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Has&nbsp;shape&nbsp;(N_apertures,&nbsp;N_time).<br>
all_corr_flux&nbsp;:&nbsp;np.ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;All&nbsp;systematics-corrected&nbsp;lightcurves.&nbsp;See&nbsp;`all_raw_flux`.<br>
best_ind&nbsp;:&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;Index&nbsp;into&nbsp;`all_apertures`&nbsp;producing&nbsp;the&nbsp;best&nbsp;(least&nbsp;noisy)&nbsp;lightcurve.<br>
corr_flux&nbsp;:&nbsp;np.ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;Systematics-corrected&nbsp;version&nbsp;of&nbsp;`raw_flux`.<br>
flux_err&nbsp;:&nbsp;np.ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;Estimated&nbsp;uncertainty&nbsp;on&nbsp;`raw_flux`.<br>
raw_flux&nbsp;:&nbsp;np.ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;Un-systematics-corrected&nbsp;lightcurve&nbsp;derived&nbsp;using&nbsp;`aperture`&nbsp;and&nbsp;`tpf`.<br>
x_com&nbsp;:&nbsp;np.ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;Position&nbsp;of&nbsp;the&nbsp;source&nbsp;in&nbsp;`x`&nbsp;inferred&nbsp;from&nbsp;TPF;&nbsp;has&nbsp;same&nbsp;length&nbsp;as&nbsp;`time`.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Position&nbsp;is&nbsp;relative&nbsp;to&nbsp;the&nbsp;pixel&nbsp;coordinate&nbsp;system&nbsp;of&nbsp;the&nbsp;TPF.<br>
y_com&nbsp;:&nbsp;np.ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;Position&nbsp;of&nbsp;the&nbsp;source&nbsp;in&nbsp;`y`&nbsp;inferred&nbsp;from&nbsp;TPF;&nbsp;has&nbsp;same&nbsp;length&nbsp;as&nbsp;`time`.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Position&nbsp;is&nbsp;relative&nbsp;to&nbsp;the&nbsp;pixel&nbsp;coordinate&nbsp;system&nbsp;of&nbsp;the&nbsp;TPF.<br>
quality&nbsp;:&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;Quality&nbsp;flag.<br>
&nbsp;<br>
Notes<br>
-----<br>
`<a href="#TargetData-save">save</a>()`&nbsp;and&nbsp;`<a href="#TargetData-load">load</a>()`&nbsp;methods&nbsp;write/read&nbsp;these&nbsp;data&nbsp;to&nbsp;a&nbsp;FITS&nbsp;file&nbsp;with&nbsp;format:<br>
&nbsp;<br>
Extension[0]&nbsp;=&nbsp;header<br>
&nbsp;<br>
Extension[1]&nbsp;=&nbsp;(N_time,&nbsp;height,&nbsp;width)&nbsp;TPF,&nbsp;where&nbsp;n&nbsp;is&nbsp;the&nbsp;number&nbsp;of&nbsp;cadences&nbsp;in&nbsp;an&nbsp;observing&nbsp;run<br>
&nbsp;<br>
Extension[2]&nbsp;=&nbsp;(3,&nbsp;N_time)&nbsp;time,&nbsp;raw&nbsp;flux,&nbsp;systematics&nbsp;corrected&nbsp;flux<br>&nbsp;</tt></td></tr>
<tr><td>&nbsp;</td>
<td width="100%">Methods defined here:<br>
<dl><dt><a name="TargetData-__init__"><strong>__init__</strong></a>(self, source, height=13, width=13, save_postcard=True, do_pca=False, do_psf=False, bkg_size=None, crowded_field=False, cal_cadences=None, try_load=True, language='English')</dt><dd><tt>Initialize&nbsp;self.&nbsp;&nbsp;See&nbsp;help(type(self))&nbsp;for&nbsp;accurate&nbsp;signature.</tt></dd></dl>

<dl><dt><a name="TargetData-bkg_subtraction"><strong>bkg_subtraction</strong></a>(self, scope='tpf', sigma=2.5)</dt><dd><tt>Subtracts&nbsp;background&nbsp;flux&nbsp;from&nbsp;target&nbsp;pixel&nbsp;file.<br>
&nbsp;<br>
Parameters<br>
----------<br>
scope&nbsp;:&nbsp;string,&nbsp;"tpf"&nbsp;or&nbsp;"postcard"<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;`tpf`,&nbsp;will&nbsp;use&nbsp;data&nbsp;from&nbsp;the&nbsp;target&nbsp;pixel&nbsp;file&nbsp;only&nbsp;to&nbsp;estimate&nbsp;and&nbsp;remove&nbsp;the&nbsp;background.<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;`postcard`,&nbsp;will&nbsp;use&nbsp;data&nbsp;from&nbsp;the&nbsp;entire&nbsp;postcard&nbsp;region&nbsp;to&nbsp;estimate&nbsp;and&nbsp;remove&nbsp;the&nbsp;background.<br>
sigma&nbsp;:&nbsp;float<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;standard&nbsp;deviation&nbsp;cut&nbsp;used&nbsp;to&nbsp;determine&nbsp;which&nbsp;pixels&nbsp;are&nbsp;representative&nbsp;of&nbsp;the&nbsp;background&nbsp;in&nbsp;each&nbsp;cadence.</tt></dd></dl>

<dl><dt><a name="TargetData-center_of_mass"><strong>center_of_mass</strong></a>(self)</dt><dd><tt>Calculates&nbsp;the&nbsp;position&nbsp;of&nbsp;the&nbsp;source&nbsp;across&nbsp;all&nbsp;cadences&nbsp;using&nbsp;`muchbettermoments`&nbsp;and&nbsp;`self.<strong>best_aperture</strong>`.<br>
&nbsp;<br>
Finds&nbsp;the&nbsp;brightest&nbsp;pixel&nbsp;in&nbsp;a&nbsp;(`height`,&nbsp;`width`)&nbsp;region&nbsp;summed&nbsp;up&nbsp;over&nbsp;all&nbsp;cadence.<br>
Searches&nbsp;a&nbsp;smaller&nbsp;(3x3)&nbsp;region&nbsp;around&nbsp;this&nbsp;pixel&nbsp;at&nbsp;each&nbsp;cadence&nbsp;and&nbsp;uses&nbsp;`muchbettermoments`&nbsp;to&nbsp;find&nbsp;the&nbsp;maximum.</tt></dd></dl>

<dl><dt><a name="TargetData-corrected_flux"><strong>corrected_flux</strong></a>(self, flux=None, skip=30, modes=3, pca=False, bkg=None)</dt><dd><tt>Corrects&nbsp;for&nbsp;jitter&nbsp;in&nbsp;the&nbsp;light&nbsp;curve&nbsp;by&nbsp;quadratically&nbsp;regressing&nbsp;with&nbsp;centroid&nbsp;position.<br>
Parameters<br>
----------<br>
skip:&nbsp;int<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;number&nbsp;of&nbsp;cadences&nbsp;at&nbsp;the&nbsp;start&nbsp;of&nbsp;each&nbsp;orbit&nbsp;to&nbsp;skip&nbsp;in&nbsp;determining&nbsp;optimal&nbsp;model&nbsp;weights.</tt></dd></dl>

<dl><dt><a name="TargetData-create_apertures"><strong>create_apertures</strong></a>(self, height, width)</dt><dd><tt>Creates&nbsp;a&nbsp;range&nbsp;of&nbsp;sizes&nbsp;and&nbsp;shapes&nbsp;of&nbsp;apertures&nbsp;to&nbsp;test.</tt></dd></dl>

<dl><dt><a name="TargetData-custom_aperture"><strong>custom_aperture</strong></a>(self, shape=None, r=0.0, h=0.0, w=0.0, theta=0.0, pos=None, method='exact')</dt><dd><tt>Creates&nbsp;a&nbsp;custom&nbsp;circular&nbsp;or&nbsp;rectangular&nbsp;aperture&nbsp;of&nbsp;arbitrary&nbsp;size.<br>
&nbsp;<br>
Parameters<br>
----------<br>
shape:&nbsp;str,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;shape&nbsp;of&nbsp;the&nbsp;aperture&nbsp;to&nbsp;be&nbsp;used.&nbsp;Must&nbsp;be&nbsp;either&nbsp;`circle`&nbsp;or&nbsp;`rectangle.`<br>
r:&nbsp;float,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;shape&nbsp;is&nbsp;`circle`&nbsp;the&nbsp;radius&nbsp;of&nbsp;the&nbsp;circular&nbsp;aperture&nbsp;to&nbsp;be&nbsp;used.<br>
h:&nbsp;float,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;shape&nbsp;is&nbsp;`rectangle`&nbsp;the&nbsp;length&nbsp;of&nbsp;the&nbsp;rectangular&nbsp;aperture&nbsp;to&nbsp;be&nbsp;used.<br>
w:&nbsp;float,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;shape&nbsp;is&nbsp;`rectangle`&nbsp;the&nbsp;width&nbsp;of&nbsp;the&nbsp;rectangular&nbsp;aperture&nbsp;to&nbsp;be&nbsp;used.<br>
theta:&nbsp;float,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;shape&nbsp;is&nbsp;`rectangle`&nbsp;the&nbsp;rotation&nbsp;of&nbsp;the&nbsp;rectangle&nbsp;relative&nbsp;to&nbsp;detector&nbsp;coordinate.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Uses&nbsp;units&nbsp;of&nbsp;radians.<br>
pos:&nbsp;tuple,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;center&nbsp;of&nbsp;the&nbsp;aperture,&nbsp;in&nbsp;TPF&nbsp;coordinates.&nbsp;If&nbsp;not&nbsp;set,&nbsp;defaults&nbsp;to&nbsp;the&nbsp;center&nbsp;of&nbsp;the&nbsp;TPF.<br>
method:&nbsp;str,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;method&nbsp;of&nbsp;producing&nbsp;a&nbsp;light&nbsp;curve&nbsp;to&nbsp;be&nbsp;used,&nbsp;either&nbsp;`exact`,&nbsp;`center`,&nbsp;or&nbsp;`subpixel`.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Passed&nbsp;through&nbsp;to&nbsp;photutils&nbsp;and&nbsp;used&nbsp;as&nbsp;intended&nbsp;by&nbsp;that&nbsp;package.</tt></dd></dl>

<dl><dt><a name="TargetData-fetch_dir"><strong>fetch_dir</strong></a>(self)</dt><dd><tt>Returns&nbsp;the&nbsp;default&nbsp;path&nbsp;to&nbsp;the&nbsp;directory&nbsp;where&nbsp;files&nbsp;will&nbsp;be&nbsp;saved<br>
or&nbsp;loaded.<br>
&nbsp;<br>
By&nbsp;default,&nbsp;this&nbsp;method&nbsp;will&nbsp;return&nbsp;"~/.eleanor"&nbsp;and&nbsp;create<br>
this&nbsp;directory&nbsp;if&nbsp;it&nbsp;does&nbsp;not&nbsp;exist.&nbsp;&nbsp;If&nbsp;the&nbsp;directory&nbsp;cannot&nbsp;be<br>
access&nbsp;or&nbsp;created,&nbsp;then&nbsp;it&nbsp;returns&nbsp;the&nbsp;local&nbsp;directory&nbsp;(".").<br>
&nbsp;<br>
Returns<br>
-------<br>
download_dir&nbsp;:&nbsp;str<br>
&nbsp;&nbsp;&nbsp;&nbsp;Path&nbsp;to&nbsp;location&nbsp;of&nbsp;`ffi_dir`&nbsp;where&nbsp;FFIs&nbsp;will&nbsp;be&nbsp;downloaded</tt></dd></dl>

<dl><dt><a name="TargetData-find_break"><strong>find_break</strong></a>(self)</dt></dl>

<dl><dt><a name="TargetData-get_cbvs"><strong>get_cbvs</strong></a>(self)</dt><dd><tt>Obtains&nbsp;the&nbsp;cotrending&nbsp;basis&nbsp;vectors&nbsp;(CBVs)&nbsp;as&nbsp;convolved&nbsp;down&nbsp;from&nbsp;the&nbsp;short-cadence&nbsp;targets.<br>
Parameters<br>
----------</tt></dd></dl>

<dl><dt><a name="TargetData-get_lightcurve"><strong>get_lightcurve</strong></a>(self, aperture=None)</dt><dd><tt>Extracts&nbsp;a&nbsp;light&nbsp;curve&nbsp;using&nbsp;the&nbsp;given&nbsp;aperture&nbsp;and&nbsp;TPF.<br>
Can&nbsp;pass&nbsp;a&nbsp;user-defined&nbsp;aperture&nbsp;mask,&nbsp;otherwise&nbsp;determines&nbsp;which&nbsp;of&nbsp;a&nbsp;set&nbsp;of&nbsp;pre-determined&nbsp;apertures<br>
provides&nbsp;the&nbsp;lowest&nbsp;scatter&nbsp;in&nbsp;the&nbsp;light&nbsp;curve.<br>
Produces&nbsp;a&nbsp;mask,&nbsp;a&nbsp;numpy.ndarray&nbsp;<a href="builtins.html#object">object</a>&nbsp;of&nbsp;the&nbsp;same&nbsp;shape&nbsp;as&nbsp;the&nbsp;target&nbsp;pixel&nbsp;file,&nbsp;which&nbsp;every&nbsp;pixel&nbsp;assigned<br>
a&nbsp;weight&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,&nbsp;1].<br>
&nbsp;<br>
Parameters<br>
----------<br>
aperture&nbsp;:&nbsp;numpy.ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;(`height`,&nbsp;`width`)&nbsp;array&nbsp;of&nbsp;floats&nbsp;in&nbsp;the&nbsp;range&nbsp;[0,1]&nbsp;with&nbsp;desired&nbsp;weights&nbsp;for&nbsp;each&nbsp;pixel&nbsp;to<br>
&nbsp;&nbsp;&nbsp;&nbsp;create&nbsp;a&nbsp;light&nbsp;curve.&nbsp;If&nbsp;not&nbsp;set,&nbsp;ideal&nbsp;aperture&nbsp;is&nbsp;inferred&nbsp;automatically.&nbsp;If&nbsp;set,&nbsp;uses&nbsp;this<br>
&nbsp;&nbsp;&nbsp;&nbsp;aperture&nbsp;at&nbsp;the&nbsp;expense&nbsp;of&nbsp;all&nbsp;other&nbsp;set&nbsp;apertures.</tt></dd></dl>

<dl><dt><a name="TargetData-get_time"><strong>get_time</strong></a>(self, coords)</dt><dd><tt>Gets&nbsp;time,&nbsp;including&nbsp;light&nbsp;travel&nbsp;time&nbsp;correction&nbsp;to&nbsp;solar&nbsp;system&nbsp;barycenter&nbsp;for&nbsp;<a href="builtins.html#object">object</a>&nbsp;given&nbsp;location</tt></dd></dl>

<dl><dt><a name="TargetData-get_tpf_from_postcard"><strong>get_tpf_from_postcard</strong></a>(self, pos, postcard, height, width, bkg_size, save_postcard, source)</dt><dd><tt>Gets&nbsp;TPF&nbsp;from&nbsp;postcard.</tt></dd></dl>

<dl><dt><a name="TargetData-k2_correction"><strong>k2_correction</strong></a>(self, flux)</dt><dd><tt>Remove&nbsp;any&nbsp;systematics&nbsp;that&nbsp;are&nbsp;correlated&nbsp;with&nbsp;spacecraft&nbsp;pointing,&nbsp;as&nbsp;inferred&nbsp;through&nbsp;telescope<br>
pointing&nbsp;model.<br>
&nbsp;<br>
Parameters<br>
----------<br>
flux&nbsp;:&nbsp;numpy.ndarray<br>
&nbsp;&nbsp;&nbsp;&nbsp;Flux&nbsp;array&nbsp;to&nbsp;which&nbsp;detrending&nbsp;applied.</tt></dd></dl>

<dl><dt><a name="TargetData-load"><strong>load</strong></a>(self, directory=None, fn=None)</dt><dd><tt>Loads&nbsp;in&nbsp;and&nbsp;sets&nbsp;all&nbsp;the&nbsp;attributes&nbsp;for&nbsp;a&nbsp;pre-created&nbsp;TPF&nbsp;file.<br>
&nbsp;<br>
Parameters<br>
----------<br>
directory&nbsp;:&nbsp;str,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Directory&nbsp;to&nbsp;load&nbsp;file&nbsp;from.</tt></dd></dl>

<dl><dt><a name="TargetData-psf_lightcurve"><strong>psf_lightcurve</strong></a>(self, data_arr=None, err_arr=None, bkg_arr=None, nstars=1, model='gaussian', likelihood='gaussian', xc=None, yc=None, verbose=False, err_method=True, ignore_pixels=None)</dt><dd><tt>Performs&nbsp;PSF&nbsp;photometry&nbsp;for&nbsp;a&nbsp;selection&nbsp;of&nbsp;stars&nbsp;on&nbsp;a&nbsp;TPF.<br>
&nbsp;<br>
Parameters<br>
----------<br>
data_arr:&nbsp;numpy.ndarray,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Data&nbsp;array&nbsp;to&nbsp;fit&nbsp;with&nbsp;the&nbsp;PSF&nbsp;model.&nbsp;If&nbsp;None,&nbsp;will&nbsp;default&nbsp;to&nbsp;`<a href="#TargetData">TargetData</a>.tpf`.<br>
err_arr:&nbsp;numpy.ndarray,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Uncertainty&nbsp;array&nbsp;to&nbsp;fit&nbsp;with&nbsp;the&nbsp;PSF&nbsp;model.&nbsp;If&nbsp;None,&nbsp;will&nbsp;default&nbsp;to&nbsp;`<a href="#TargetData">TargetData</a>.tpf_flux_err`.<br>
bkg_arr:&nbsp;numpy.ndarray,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;List&nbsp;of&nbsp;background&nbsp;values&nbsp;to&nbsp;include&nbsp;as&nbsp;initial&nbsp;guesses&nbsp;for&nbsp;the&nbsp;background&nbsp;model.&nbsp;If&nbsp;None,<br>
&nbsp;&nbsp;&nbsp;&nbsp;will&nbsp;default&nbsp;to&nbsp;`<a href="#TargetData">TargetData</a>.flux_bkg`.<br>
nstars:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Number&nbsp;of&nbsp;stars&nbsp;to&nbsp;be&nbsp;modeled&nbsp;on&nbsp;the&nbsp;TPF.<br>
model:&nbsp;string,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;PSF&nbsp;model&nbsp;to&nbsp;be&nbsp;applied.&nbsp;Presently&nbsp;must&nbsp;be&nbsp;`gaussian`,&nbsp;which&nbsp;models&nbsp;a&nbsp;single&nbsp;Gaussian.<br>
&nbsp;&nbsp;&nbsp;&nbsp;Will&nbsp;be&nbsp;extended&nbsp;in&nbsp;the&nbsp;future&nbsp;once&nbsp;TESS&nbsp;PRF&nbsp;models&nbsp;are&nbsp;made&nbsp;publicly&nbsp;available.<br>
likelihood:&nbsp;string,&nbsp;optinal<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;data&nbsp;statistics&nbsp;given&nbsp;the&nbsp;parameters.&nbsp;Options&nbsp;are:&nbsp;'gaussian'&nbsp;and&nbsp;'poisson'.<br>
xc:&nbsp;list,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;x-coordinates&nbsp;of&nbsp;stars&nbsp;in&nbsp;the&nbsp;zeroth&nbsp;cadence.&nbsp;Must&nbsp;have&nbsp;length&nbsp;`nstars`.<br>
&nbsp;&nbsp;&nbsp;&nbsp;While&nbsp;the&nbsp;positions&nbsp;of&nbsp;stars&nbsp;will&nbsp;be&nbsp;fit&nbsp;in&nbsp;all&nbsp;cadences,&nbsp;the&nbsp;relative&nbsp;positions&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;stars&nbsp;will&nbsp;be&nbsp;fixed&nbsp;following&nbsp;the&nbsp;delta&nbsp;values&nbsp;from&nbsp;this&nbsp;list.<br>
yc:&nbsp;list,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;The&nbsp;y-coordinates&nbsp;of&nbsp;stars&nbsp;in&nbsp;the&nbsp;zeroth&nbsp;cadence.&nbsp;Must&nbsp;have&nbsp;length&nbsp;`nstars`.<br>
&nbsp;&nbsp;&nbsp;&nbsp;While&nbsp;the&nbsp;positions&nbsp;of&nbsp;stars&nbsp;will&nbsp;be&nbsp;fit&nbsp;in&nbsp;all&nbsp;cadences,&nbsp;the&nbsp;relative&nbsp;positions&nbsp;of<br>
&nbsp;&nbsp;&nbsp;&nbsp;stars&nbsp;will&nbsp;be&nbsp;fixed&nbsp;following&nbsp;the&nbsp;delta&nbsp;values&nbsp;from&nbsp;this&nbsp;list.<br>
verbose:&nbsp;bool,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;True,&nbsp;return&nbsp;information&nbsp;about&nbsp;the&nbsp;shape&nbsp;of&nbsp;the&nbsp;PSF&nbsp;at&nbsp;every&nbsp;cadence&nbsp;as&nbsp;well&nbsp;as&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;PSF-inferred&nbsp;centroid&nbsp;shape.<br>
err_method:&nbsp;bool,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;True,&nbsp;use&nbsp;the&nbsp;photometric&nbsp;uncertainties&nbsp;for&nbsp;each&nbsp;pixel&nbsp;in&nbsp;the&nbsp;TPF&nbsp;as&nbsp;delivered&nbsp;by&nbsp;the<br>
&nbsp;&nbsp;&nbsp;&nbsp;TESS&nbsp;team.&nbsp;Otherwise,&nbsp;each&nbsp;pixel&nbsp;takes&nbsp;an&nbsp;equal&nbsp;uncertainty.&nbsp;If&nbsp;`err_arr`&nbsp;is&nbsp;passed<br>
&nbsp;&nbsp;&nbsp;&nbsp;through&nbsp;instead,&nbsp;this&nbsp;setting&nbsp;is&nbsp;ignored.<br>
ignore_pixels:&nbsp;int,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;If&nbsp;not&nbsp;None,&nbsp;ignore&nbsp;a&nbsp;certain&nbsp;percentage&nbsp;of&nbsp;the&nbsp;brightest&nbsp;pixels&nbsp;away&nbsp;from&nbsp;the&nbsp;source<br>
&nbsp;&nbsp;&nbsp;&nbsp;target,&nbsp;effectively&nbsp;masking&nbsp;other&nbsp;nearby,&nbsp;bright&nbsp;stars.&nbsp;This&nbsp;strategy&nbsp;appears&nbsp;to&nbsp;do&nbsp;a<br>
&nbsp;&nbsp;&nbsp;&nbsp;reasonable&nbsp;job&nbsp;estimating&nbsp;the&nbsp;background&nbsp;more&nbsp;accurately&nbsp;in&nbsp;relatively&nbsp;crowded&nbsp;regions.</tt></dd></dl>

<dl><dt><a name="TargetData-save"><strong>save</strong></a>(self, output_fn=None, directory=None)</dt><dd><tt>Saves&nbsp;a&nbsp;created&nbsp;TPF&nbsp;<a href="builtins.html#object">object</a>&nbsp;to&nbsp;a&nbsp;FITS&nbsp;file.<br>
&nbsp;<br>
Parameters<br>
----------<br>
output_fn&nbsp;:&nbsp;str,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Filename&nbsp;to&nbsp;save&nbsp;output&nbsp;as.&nbsp;Overrides&nbsp;default&nbsp;naming.<br>
directory&nbsp;:&nbsp;str,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;Directory&nbsp;to&nbsp;save&nbsp;file&nbsp;into.</tt></dd></dl>

<dl><dt><a name="TargetData-set_header"><strong>set_header</strong></a>(self)</dt><dd><tt>Defines&nbsp;the&nbsp;header&nbsp;for&nbsp;the&nbsp;TPF.</tt></dd></dl>

<dl><dt><a name="TargetData-set_quality"><strong>set_quality</strong></a>(self)</dt><dd><tt>Reads&nbsp;in&nbsp;quality&nbsp;flags&nbsp;set&nbsp;in&nbsp;the&nbsp;postcard</tt></dd></dl>

<dl><dt><a name="TargetData-to_lightkurve"><strong>to_lightkurve</strong></a>(self, flux=None, quality_mask=None)</dt><dd><tt>Creates&nbsp;a&nbsp;lightkurve.lightcurve.LightCurve()&nbsp;<a href="builtins.html#object">object</a>&nbsp;with&nbsp;eleanor<br>
attributes.&nbsp;All&nbsp;inputs&nbsp;have&nbsp;been&nbsp;quality&nbsp;masked.<br>
&nbsp;<br>
Parameters<br>
----------<br>
flux&nbsp;:&nbsp;np.ndarray,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;An&nbsp;array&nbsp;of&nbsp;flux.&nbsp;Default&nbsp;is&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eleanor.<a href="#TargetData">TargetData</a>.corr_flux.<br>
&nbsp;<br>
quality_mask&nbsp;:&nbsp;np.ndarray,&nbsp;optional<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;An&nbsp;array&nbsp;of&nbsp;quality&nbsp;flags.&nbsp;Default&nbsp;is<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;eleanor.<a href="#TargetData">TargetData</a>.quality.<br>
&nbsp;<br>
Returns<br>
-------<br>
lightkurve.lightcurve.TessLightCurve&nbsp;<a href="builtins.html#object">object</a></tt></dd></dl>

<hr>
Data descriptors defined here:<br>
<dl><dt><strong>__dict__</strong></dt>
<dd><tt>dictionary&nbsp;for&nbsp;instance&nbsp;variables&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
<dl><dt><strong>__weakref__</strong></dt>
<dd><tt>list&nbsp;of&nbsp;weak&nbsp;references&nbsp;to&nbsp;the&nbsp;object&nbsp;(if&nbsp;defined)</tt></dd>
</dl>
</td></tr></table></td></tr></table><p>
<table width="100%" cellspacing=0 cellpadding=2 border=0 summary="section">
<tr bgcolor="#55aa55">
<td colspan=3 valign=bottom>&nbsp;<br>
<font color="#ffffff" face="helvetica, arial"><big><strong>Data</strong></big></font></td></tr>
    
<tr><td bgcolor="#55aa55"><tt>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</tt></td><td>&nbsp;</td>
<td width="100%"><strong>__all__</strong> = ['TargetData']</td></tr></table>
</body></html>